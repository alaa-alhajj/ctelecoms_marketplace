
function Viewer(aD,at){function o(){var e,k,c,l,g;aD&&(c=aD.getPluginName(),l=aD.getPluginVersion(),g=aD.getPluginURL());e=document.createElement("div");e.id="aboutDialogCentererTable";k=document.createElement("div");k.id="aboutDialogCentererCell";ar=document.createElement("div");ar.id="aboutDialog";ar.innerHTML='<h1>ViewerJS</h1><p>Open Source document viewer for webpages, built with HTML and JavaScript.</p><p>Learn more and get your own copy on the <a href="http://viewerjs.org/" target="_blank">ViewerJS website</a>.</p>'+(aD?'<p>Using the <a href = "'+g+'" target="_blank">'+c+'</a> (<span id = "pluginVersion">'+l+"</span>) plugin to show you this document.</p>":"")+'<p>Supported by <a href="http://nlnet.nl" target="_blank"><br><img src="images/nlnet.png" width="160" height="60" alt="NLnet Foundation"></a></p><p>Made by <a href="http://kogmbh.com" target="_blank"><br><img src="images/kogmbh.png" width="172" height="40" alt="KO GmbH"></a></p><button id = "aboutDialogCloseButton" class = "toolbarButton textButton">Close</button>';an.appendChild(e);e.appendChild(k);k.appendChild(ar);e=document.createElement("button");e.id="about";e.className="toolbarButton textButton about";e.title="About";e.innerHTML="ViewerJS";j.appendChild(e);e.addEventListener("click",function(){an.style.display="block"});document.getElementById("aboutDialogCloseButton").addEventListener("click",function(){an.style.display="none"})}function ag(g){var k=i.options,e,m=!1,l;for(l=0;l<k.length;l+=1){e=k[l],e.value!==g?e.selected=!1:m=e.selected=!0}return m}function af(b,d,e){b!==aE.getZoomLevel()&&(aE.setZoomLevel(b),e=document.createEvent("UIEvents"),e.initUIEvent("scalechange",!1,!1,window,0),e.scale=b,e.resetAutoSettings=d,window.dispatchEvent(e))}function ae(){var b;if(aD.onScroll){aD.onScroll()}aD.getPageInView&&(b=aD.getPageInView())&&(ax=b,document.getElementById("pageNumber").value=b)}function ad(b){window.clearTimeout(ac);ac=window.setTimeout(function(){ae()},b)}function aB(d,c,l){var m,k;if(m="custom"===d?parseFloat(document.getElementById("customScaleOption").textContent)/100:parseFloat(d)){af(m,!0,l)}else{m=aC.clientWidth-aq;k=aC.clientHeight-aq;switch(d){case"page-actual":af(1,c,l);break;case"page-width":aD.fitToWidth(m);break;case"page-height":aD.fitToHeight(k);break;case"page-fit":aD.fitToPage(m,k);break;case"auto":aD.isSlideshow()?aD.fitToPage(m+aq,k+aq):aD.fitSmart(m)}ag(d)}ad(300)}function h(d){var c;return -1!==["auto","page-actual","page-width"].indexOf(d)?d:(c=parseFloat(d))&&ab<=c&&c<=aa?d:f}function ap(){aw=!aw;az&&!aw&&aE.togglePresentationMode()}function am(){ao&&(al.className="viewer-touched",window.clearTimeout(Z),Z=window.setTimeout(function(){al.className=""},5000))}function ak(){ay.classList.add("viewer-touched");av.classList.add("viewer-touched");window.clearTimeout(Y);Y=window.setTimeout(function(){aj()},5000)}function aj(){ay.classList.remove("viewer-touched");av.classList.remove("viewer-touched")}function ai(){ay.classList.contains("viewer-touched")?aj():ak()}function X(b){blanked.style.display="block";blanked.style.backgroundColor=b;aj()}var aE=this,aq=40,ab=0.25,aa=4,f="auto",az=!1,aw=!1,W=!1,ao=!1,ah,aA=document.getElementById("viewer"),aC=document.getElementById("canvasContainer"),al=document.getElementById("overlayNavigator"),ay=document.getElementById("titlebar"),av=document.getElementById("toolbarContainer"),V=document.getElementById("toolbarLeft"),a=document.getElementById("toolbarMiddleContainer"),i=document.getElementById("scaleSelect"),an=document.getElementById("dialogOverlay"),j=document.getElementById("toolbarRight"),ar,au=[],ax,ac,Z,Y;this.initialize=function(){var b;b=h(at.zoom);ah=at.documentUrl;document.title=at.title;var c=document.getElementById("documentName");c.innerHTML="";c.appendChild(c.ownerDocument.createTextNode(at.title));aD.onLoad=function(){document.getElementById("pluginVersion").innerHTML=aD.getPluginVersion();(ao=aD.isSlideshow())?(aC.classList.add("slideshow"),V.style.visibility="visible"):(a.style.visibility="visible",aD.getPageInView&&(V.style.visibility="visible"));W=!0;au=aD.getPages();document.getElementById("numPages").innerHTML="of "+au.length;aE.showPage(1);aB(b);aC.onscroll=ae;ad()};aD.initialize(aC,ah)};this.showPage=function(b){0>=b?b=1:b>au.length&&(b=au.length);aD.showPage(b);ax=b;document.getElementById("pageNumber").value=ax};this.showNextPage=function(){aE.showPage(ax+1)};this.showPreviousPage=function(){aE.showPage(ax-1)};this.download=function(){var b=ah.split("#")[0];window.open(b+"#viewer.action=download","_parent")};this.toggleFullScreen=function(){aw?document.exitFullscreen?document.exitFullscreen():document.cancelFullScreen?document.cancelFullScreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.webkitCancelFullScreen?document.webkitCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen():aA.requestFullscreen?aA.requestFullscreen():aA.mozRequestFullScreen?aA.mozRequestFullScreen():aA.webkitRequestFullscreen?aA.webkitRequestFullscreen():aA.webkitRequestFullScreen?aA.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT):aA.msRequestFullscreen&&aA.msRequestFullscreen()};this.togglePresentationMode=function(){var b=document.getElementById("overlayCloseButton");az?("block"===blanked.style.display&&(blanked.style.display="none",ai()),ay.style.display=av.style.display="block",b.style.display="none",aC.classList.remove("presentationMode"),aC.onmouseup=function(){},aC.oncontextmenu=function(){},aC.onmousedown=function(){},aB("auto"),ao=aD.isSlideshow()):(ay.style.display=av.style.display="none",b.style.display="block",aC.classList.add("presentationMode"),ao=!0,aC.onmousedown=function(c){c.preventDefault()},aC.oncontextmenu=function(c){c.preventDefault()},aC.onmouseup=function(c){c.preventDefault();1===c.which?aE.showNextPage():aE.showPreviousPage()},aB("page-fit"));az=!az};this.getZoomLevel=function(){return aD.getZoomLevel()};this.setZoomLevel=function(b){aD.setZoomLevel(b)};this.zoomOut=function(){var b=(aE.getZoomLevel()/1.1).toFixed(2),b=Math.max(ab,b);aB(b,!0)};this.zoomIn=function(){var b=(1.1*aE.getZoomLevel()).toFixed(2),b=Math.min(aa,b);aB(b,!0)};(function(){o();aD&&(aE.initialize(),document.exitFullscreen||document.cancelFullScreen||document.mozCancelFullScreen||document.webkitExitFullscreen||document.webkitCancelFullScreen||document.msExitFullscreen||(document.getElementById("fullscreen").style.visibility="hidden",document.getElementById("presentation").style.visibility="hidden"),document.getElementById("overlayCloseButton").addEventListener("click",aE.toggleFullScreen),document.getElementById("fullscreen").addEventListener("click",aE.toggleFullScreen),document.getElementById("presentation").addEventListener("click",function(){aw||aE.toggleFullScreen();aE.togglePresentationMode()}),document.addEventListener("fullscreenchange",ap),document.addEventListener("webkitfullscreenchange",ap),document.addEventListener("mozfullscreenchange",ap),document.addEventListener("MSFullscreenChange",ap),document.getElementById("download").addEventListener("click",function(){aE.download()}),document.getElementById("zoomOut").addEventListener("click",function(){aE.zoomOut()}),document.getElementById("zoomIn").addEventListener("click",function(){aE.zoomIn()}),document.getElementById("previous").addEventListener("click",function(){aE.showPreviousPage()}),document.getElementById("next").addEventListener("click",function(){aE.showNextPage()}),document.getElementById("previousPage").addEventListener("click",function(){aE.showPreviousPage()}),document.getElementById("nextPage").addEventListener("click",function(){aE.showNextPage()}),document.getElementById("pageNumber").addEventListener("change",function(){aE.showPage(this.value)}),document.getElementById("scaleSelect").addEventListener("change",function(){aB(this.value)}),aC.addEventListener("click",am),al.addEventListener("click",am),aC.addEventListener("click",ai),ay.addEventListener("click",ak),av.addEventListener("click",ak),window.addEventListener("scalechange",function(e){var d=document.getElementById("customScaleOption"),g=ag(String(e.scale));d.selected=!1;g||(d.textContent=Math.round(10000*e.scale)/100+"%",d.selected=!0)},!0),window.addEventListener("resize",function(b){W&&(document.getElementById("pageWidthOption").selected||document.getElementById("pageAutoOption").selected)&&aB(document.getElementById("scaleSelect").value);am()}),window.addEventListener("keydown",function(b){var d=b.keyCode;b=b.shiftKey;if("block"===blanked.style.display){switch(d){case 16:case 17:case 18:case 91:case 93:case 224:case 225:break;default:blanked.style.display="none",ai()}}else{switch(d){case 8:case 33:case 37:case 38:case 80:aE.showPreviousPage();break;case 13:case 34:case 39:case 40:case 78:aE.showNextPage();break;case 32:b?aE.showPreviousPage():aE.showNextPage();break;case 66:case 190:az&&X("#000");break;case 87:case 188:az&&X("#FFF");break;case 36:aE.showPage(0);break;case 35:aE.showPage(au.length)}}}))})()};