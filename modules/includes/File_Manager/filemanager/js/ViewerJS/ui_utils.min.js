
"use strict";var CSS_UNITS=96/72;var DEFAULT_SCALE="auto";var UNKNOWN_SCALE=0;var MAX_AUTO_SCALE=1.25;var SCROLLBAR_PADDING=40;var VERTICAL_PADDING=5;var DEFAULT_CACHE_SIZE=10;var CustomStyle=(function CustomStyleClosure(){var c=["ms","Moz","Webkit","O"];var d={};function b(){}b.getProp=function a(n,j){if(arguments.length===1&&typeof d[n]==="string"){return d[n]}j=j||document.documentElement;var k=j.style,f,m;if(typeof k[n]==="string"){return(d[n]=n)}m=n.charAt(0).toUpperCase()+n.slice(1);for(var h=0,g=c.length;h<g;h++){f=c[h]+m;if(typeof k[f]==="string"){return(d[n]=f)}}return(d[n]="undefined")};b.setProp=function e(g,f,h){var i=this.getProp(g);if(i!=="undefined"){f.style[i]=h}};return b})();function getFileName(c){var b=c.indexOf("#");var d=c.indexOf("?");var a=Math.min(b>0?b:c.length,d>0?d:c.length);return c.substring(c.lastIndexOf("/",a)+1,a)}function getOutputScale(b){var a=window.devicePixelRatio||1;var c=b.webkitBackingStorePixelRatio||b.mozBackingStorePixelRatio||b.msBackingStorePixelRatio||b.oBackingStorePixelRatio||b.backingStorePixelRatio||1;var d=a/c;return{sx:d,sy:d,scaled:d!==1}}function scrollIntoView(b,d){var c=b.offsetParent;var e=b.offsetTop+b.clientTop;var a=b.offsetLeft+b.clientLeft;if(!c){console.error("offsetParent is not set -- cannot scroll");return}while(c.clientHeight===c.scrollHeight){if(c.dataset._scaleY){e/=c.dataset._scaleY;a/=c.dataset._scaleX}e+=c.offsetTop;a+=c.offsetLeft;c=c.offsetParent;if(!c){return}}if(d){if(d.top!==undefined){e+=d.top}if(d.left!==undefined){a+=d.left;c.scrollLeft=a}}c.scrollTop=e}function watchScroll(e,d){var a=function a(f){if(c){return}c=window.requestAnimationFrame(function g(){c=null;var h=e.scrollTop;var i=b.lastY;if(h>i){b.down=true}else{if(h<i){b.down=false}}b.lastY=h;d(b)})};var b={down:true,lastY:e.scrollTop,_eventHandler:a};var c=null;e.addEventListener("scroll",a,true);return b}function getVisibleElements(a,h,s){var o=a.scrollTop,g=o+a.clientHeight;var e=a.scrollLeft,t=e+a.clientWidth;var c=[],n;var d,p,l,b;var j,q;for(var r=0,m=h.length;r<m;++r){n=h[r];d=n.el.offsetTop+n.el.clientTop;p=n.el.clientHeight;if((d+p)<o){continue}if(d>g){break}j=n.el.offsetLeft+n.el.clientLeft;q=n.el.clientWidth;if((j+q)<e||j>t){continue}l=Math.max(0,o-d)+Math.max(0,d+p-g);b=((p-l)*100/p)|0;c.push({id:n.id,x:j,y:d,view:n,percent:b})}var f=c[0];var k=c[c.length-1];if(s){c.sort(function(u,i){var v=u.percent-i.percent;if(Math.abs(v)>0.001){return -v}return u.id-i.id})}return{first:f,last:k,views:c}}function noContextMenuHandler(a){a.preventDefault()}function getPDFFileNameFromURL(b){var g=/^(?:([^:]+:)?\/\/[^\/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/;var c=/[^\/?#=]+\.pdf\b(?!.*\.pdf\b)/i;var a=g.exec(b);var d=c.exec(a[1])||c.exec(a[2])||c.exec(a[3]);if(d){d=d[0];if(d.indexOf("%")!==-1){try{d=c.exec(decodeURIComponent(d))[0]}catch(f){}}}return d||"document.pdf"}var ProgressBar=(function ProgressBarClosure(){function e(g,h,f){return Math.min(Math.max(g,h),f)}function a(g,f){this.div=document.querySelector(g+" .progress");this.bar=this.div.parentNode;this.height=f.height||100;this.width=f.width||100;this.units=f.units||"%";this.div.style.height=this.height+this.units;this.percent=0}a.prototype={updateBar:function b(){if(this._indeterminate){this.div.classList.add("indeterminate");this.div.style.width=this.width+this.units;return}this.div.classList.remove("indeterminate");var f=this.width*this._percent/100;this.div.style.width=f+this.units},get percentfunction(){return this._percent},set percentfunction(f){this._indeterminate=isNaN(f);this._percent=e(f,0,100);this.updateBar()},setWidth:function c(h){if(h){var f=h.parentNode;var g=f.offsetWidth-h.offsetWidth;if(g>0){this.bar.setAttribute("style","width: calc(100% - "+g+"px);")}}},hide:function d(){this.bar.classList.add("hidden");this.bar.removeAttribute("style")}};return a})();var Cache=function cacheCache(a){var b=[];this.push=function c(d){var e=b.indexOf(d);if(e>=0){b.splice(e,1)}b.push(d);if(b.length>a){b.shift().destroy()}};this.resize=function(d){a=d;while(b.length>a){b.shift().destroy()}}};